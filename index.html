<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rental Time Tracker</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div class="box">
      <!-- NAV TABS -->
      <ul class="nav nav-tabs mb-3" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="tracker-tab"
            data-bs-toggle="tab"
            data-bs-target="#tracker"
            type="button"
            role="tab"
          >
            ‚è± Tracker
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="calculator-tab"
            data-bs-toggle="tab"
            data-bs-target="#calculator"
            type="button"
            role="tab"
          >
            üßÆ Calculator
          </button>
        </li>
      </ul>

      <div class="tracker-container" id="tracker-container">
        <div class="display">
          <div>üìç Philippine Time</div>
          <h4 id="currentTime">--:--</h4>

          <hr style="border-color: #555" />

          <div>‚è∞ End Time</div>
          <h3 id="endTime">--:--</h3>

          <hr style="border-color: #555" />

          <div>‚ûï Time Added</div>
          <h5 id="addedTime">0 mins</h5>
        </div>

        <!-- BUTTONS -->
        <div class="buttons">
          <div class="row g-2">
            <div class="col-6">
              <button
                class="btn btn-primary w-100 btn-time"
                onclick="addMinutes(10)"
              >
                +10 mins
              </button>
            </div>
            <div class="col-6">
              <button
                class="btn btn-primary w-100 btn-time"
                onclick="addMinutes(15)"
              >
                +15 mins
              </button>
            </div>
          </div>

          <div class="row g-2">
            <div class="col-6">
              <button
                class="btn btn-primary w-100 btn-time"
                onclick="addMinutes(20)"
              >
                +20 mins
              </button>
            </div>
            <div class="col-6">
              <button
                class="btn btn-danger w-100 btn-time"
                onclick="resetTime()"
              >
                RESET
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- CALCULATOR TAB -->
      <div id="calculator" class="d-none calculator-container">
        <div class="display mb-3">
          <!-- Current Philippine Time -->
          <div>üìç Philippine Time</div>
          <h4 id="currentTimeCalc">--:--</h4>

          <hr style="border-color: #555" />

          <!-- Input for time used -->
          <div>‚è≥ Set Time (HH:MM AM/PM)</div>
          <input
            type="text"
            id="usedTimeInput"
            class="form-control"
            placeholder="HH:MM"
          />
          <!-- Result -->
          <h5>Remaining Time: <span id="remainingTime">--:--</span></h5>
        </div>

        <!-- Calculator Buttons -->
        <div class="row g-2 mb-2">
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('7')">
              7
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('8')">
              8
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('9')">
              9
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-danger w-100" onclick="clearInput()">
              C
            </button>
          </div>
        </div>

        <div class="row g-2 mb-2">
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('4')">
              4
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('5')">
              5
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('6')">
              6
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-warning w-100" onclick="backspace()">
              ‚å´
            </button>
          </div>
        </div>

        <div class="row g-2 mb-2">
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('1')">
              1
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('2')">
              2
            </button>
          </div>
          <div class="col-3">
            <button class="btn btn-secondary w-100" onclick="appendNumber('3')">
              3
            </button>
          </div>
          <div class="col-3">
            <button
              class="btn btn-primary w-100"
              onclick="calculateRemaining()"
            >
              =
            </button>
          </div>
        </div>

        <div class="row g-2 mb-2">
          <div class="col-6">
            <button class="btn btn-secondary w-100" onclick="appendNumber('0')">
              0
            </button>
          </div>
          <div class="col-6">
            <button class="btn btn-danger w-100" onclick="resetCalculator()">
              RESET
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("sw.js");

        navigator.serviceWorker.addEventListener("controllerchange", () => {
          window.location.reload();
        });
      }
    </script>
    <script src="sw.js"></script>
  </body>
</html>
